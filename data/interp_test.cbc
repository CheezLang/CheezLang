# faculty of n
fn fac n {
    load_local n
    const 1
    igt
    branch_if body

    const 1
    return

body:
    load_local n
    load_local n
    const 1
    sub
    call fac 1
    mul
    return
}

# fib of n
fn fib n {
    load_local n
    const 1
    igt
    branch_if body

    const 1
    return

body:
    # fib n - 2
    load_local n
    const 2
    sub
    call fib 1

    # fib n - 1
    load_local n
    const 1
    sub
    call fib 1

    add
    return
}

#main
fn main {
    local a

loop:
    load_local a
    call fib 1
    print
    load_local a
    const 1
    add
    store_local a
    
    load_local a
    const 50
    ilt
    branch_if loop

    halt
}