#test_expect_output("a: 123")
#test_expect_output("b: 1")
#test_expect_output("c: 123, d: 1")
#test_expect_output("f[0]: 123, f[1]: 1")
#test_expect_output("g: 123, h: 1")

#test_expect_output("a: 456")
#test_expect_output("b: 0")
#test_expect_output("c: 456, d: 0")
#test_expect_output("f[0]: 456, f[1]: 0")
#test_expect_output("g: 456, h: 0")

#test_expect_output("a: 479")
#test_expect_output("b: 0")
#test_expect_output("c: 454, d: 0")
#test_expect_output("f[0]: 456, f[1]: 0")
#test_expect_output("g: 456, h: 0")

// required for printing
fn c_printf(format: c_string) #varargs #linkname("printf");

fn Main() {
    let a = 123
    let b: bool = true
    let (c, d): (int, bool) = (a, b)
    let f = (c, d)
    let (g, h) = f

    c_printf("a: %lld`n", a)
    c_printf("b: %lld`n", cast(int)b)
    c_printf("c: %lld, d: %lld`n", c, cast(int)d)
    c_printf("f[0]: %lld, f[1]: %lld`n", f[0], cast(int)f[1])
    c_printf("g: %lld, h: %lld`n", g, cast(int)h)
    
    a = 456
    b = false
    (d, c) = (b, a)
    f = (c, d)
    (g, h) = f
    
    c_printf("a: %lld`n", a)
    c_printf("b: %lld`n", cast(int)b)
    c_printf("c: %lld, d: %lld`n", c, cast(int)d)
    c_printf("f[0]: %lld, f[1]: %lld`n", f[0], cast(int)f[1])
    c_printf("g: %lld, h: %lld`n", g, cast(int)h)

    a += 11
    (a, c) += (3, 3)
    let x = (9, -5)
    (a, c) += x

    c_printf("a: %lld`n", a)
    c_printf("b: %lld`n", cast(int)b)
    c_printf("c: %lld, d: %lld`n", c, cast(int)d)
    c_printf("f[0]: %lld, f[1]: %lld`n", f[0], cast(int)f[1])
    c_printf("g: %lld, h: %lld`n", g, cast(int)h)
}
