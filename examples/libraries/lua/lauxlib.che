#load("lua.che")

fn luaL_newstate() -> &lua_State;

fn luaL_loadstring(L: &lua_State, s: c_string) -> i32;

fn lua_pcall(L: &lua_State, nargs: i32, nresults: i32, errfunc: i32) -> int {
    return lua_pcallk(L, nargs, nresults, errfunc, 0, null)
}

fn luaL_dostring(L: &lua_State, s: c_string) -> int {
    let a = luaL_loadstring(L, s)
    if a != 0 {
        return a
    }
    
    return lua_pcall(L, 0, LUA_MULTRET, 0)
}
