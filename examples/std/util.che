#load("std:os/windows")

fn pointerAddSized(ptr: *$T, amount: $OffsetType) -> *T {
    return cast(*T)(cast(OffsetType) ptr + amount * @sizeof(T))
}

fn pointerAdd(ptr: *$T, amount: $OffsetType) -> *T {
    return cast(*T)(cast(OffsetType) ptr + amount)
}

fn getCurrentTimeInMicroseconds() -> ulong {
    let freq: ulong
    QueryPerformanceFrequency(&freq)

    let time: ulong
    QueryPerformanceCounter(&time)

    time *= 1000000
    time /= freq

    return time
}

fn getCurrentTimeInMilliseconds() -> ulong {
    let freq: ulong
    QueryPerformanceFrequency(&freq)

    let time: ulong
    QueryPerformanceCounter(&time)

    time *= 1000000
    time /= freq

    return time / 1000
}
