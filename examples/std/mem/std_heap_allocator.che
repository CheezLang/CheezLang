#load("std:mem/allocator")
#load("std:mem/memory")

StdHeapAllocator :: struct {
    _unused: i32 = 0
}

impl Allocator for StdHeapAllocator {
    fn allocate(ref Self, count: uint, elementSize: uint, alignment: uint) -> &any {
        return c_malloc(cast(uint) (count * elementSize))
    }

    fn reallocate(ref Self, mem: &any, count: uint, elementSize: uint, alignment: uint) -> &any {
        return c_realloc(mem, cast(uint) (count * elementSize))
    }

    fn free(ref Self, mem: &any) {
        c_free(mem)
    }
}

DEFAULT_STD_HEAP_ALLOCATOR : StdHeapAllocator = StdHeapAllocator(0)
